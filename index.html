<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Entity-manager by intersoft-sk</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Entity-manager</h1>
        <p></p>

        <p class="view"><a href="https://github.com/intersoft-sk/entity-manager">View the Project on GitHub <small>intersoft-sk/entity-manager</small></a></p>


        <ul>
          <li><a href="https://github.com/intersoft-sk/entity-manager/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/intersoft-sk/entity-manager/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/intersoft-sk/entity-manager">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="entity-manager-documentation" class="anchor" href="#entity-manager-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Entity Manager Documentation</h1>

<p>In order to provide lookup, discovery and resolution services for physical and virtual entities ebbits offers the entity management functionalities via Entity Manager component. Beside the core functionality – i.e. to provide world-wide unique identifiers, Entity Manager also supports:</p>

<ul>
<li>mapping to local identifiers that are used by different stakeholders, but identifies the same entity and </li>
<li>management of part-of relation between two entities – i.e. an entity could have one or more parts (slave entities) and at the same time it could be part of one or more entities (master). In order to be able traverse such relationships, the resolution part of the Entity Management service maintains an oriented acyclic graph structure.</li>
</ul>

<p>The Entity Manager is implemented as a RESTful web service with the Ruby on Rails  framework and is deployed at Heroku  cloud application platform. At the <a href="http://entity-manager.herokuapp.com/entities">http://entity-manager.herokuapp.com/entities</a> URL, there is also available a simple administration console. Authorisation system is simplified in a way that authenticated users via third-party authentication (Google, Linked-In) or just registered developers are able to access the system functionality. Not authenticated users can just view current contents of the Entity Manager. </p>

<h2>
<a id="entity-manager-supports-the-following-api" class="anchor" href="#entity-manager-supports-the-following-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Entity Manager supports the following API:</h2>

<h2>
<a id="createidentity-localid-credentials-entity" class="anchor" href="#createidentity-localid-credentials-entity" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>createIdentity( LocalID, Credentials): Entity</code>
</h2>

<p>Based on local identifier, credentials identifying an owner (i.e. stakeholder in an IoT application) and entity’s description, the call creates new entity with world-wide unique identifier that is randomly generated.</p>

<h3>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>localID</em>  The local identifier of an entity.</p>

<p><em>description</em> Basic textual description of registered entity.</p>

<p><em>credentials</em> Data necessary for identification and authorisation of authority that is registering a new entity.</p>

<h3>
<a id="returns" class="anchor" href="#returns" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the successfully registered entity data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result" class="anchor" href="#example-of-the-request-and-result" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "localid=sensor1ab&amp;owner=3&amp;description=Some nice description." http://localhost:3000/entities.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entity&gt;
  &lt;id type="integer"&gt;15&lt;/id&gt;
  &lt;uuid&gt;e90dd88b-67bc-44a9-9eb9-22bbbef16d0d&lt;/uuid&gt;
  &lt;description&gt;Some nice description.&lt;/description&gt;
  &lt;created-at type="datetime"&gt;2013-03-23T07:49:38Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-03-23T07:49:38Z&lt;/updated-at&gt;
  &lt;schema&gt;urn:entityID:&lt;/schema&gt;
&lt;/entity&gt;
</code></pre>

<h2>
<a id="addaliastoidentityebbitsid-localid-credentialsboolean" class="anchor" href="#addaliastoidentityebbitsid-localid-credentialsboolean" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>addAliasToIdentity(EbbitsID, LocalID, Credentials):Boolean</code>
</h2>

<p>Adds alias to an existing entity (restful operation using the entity ID given in DB).</p>

<h3>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em>  The unique identifier of the entity, to which an alias is being added.</p>

<p><em>localID</em> The local identifier of an entity.</p>

<p><em>name</em> The local name of an entity.</p>

<p><em>description</em> Basic textual description of registered alias.</p>

<p><em>credentials</em> Data necessary for identification and authorization of authority that is registering a new alias for an entity.</p>

<h3>
<a id="returns-1" class="anchor" href="#returns-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the successfully registered alias data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-1" class="anchor" href="#example-of-the-request-and-result-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "owner=3&amp;localid=1abc&amp;name=temperature1abc&amp;description=temperature sesor in the kitchen" http://localhost:3000/entities/12/local_identities.xml


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;local-identity&gt;
  &lt;id type="integer"&gt;80&lt;/id&gt;
  &lt;localid&gt;1abc&lt;/localid&gt;
  &lt;name&gt;temperature1abc&lt;/name&gt;
  &lt;owner-id type="integer"&gt;3&lt;/owner-id&gt;
  &lt;description&gt;temperature sesor in the kitchen&lt;/description&gt;
  &lt;entity-id type="integer"&gt;12&lt;/entity-id&gt;
  &lt;created-at type="datetime"&gt;2013-03-23T14:29:49Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-03-23T14:29:49Z&lt;/updated-at&gt;
&lt;/local-identity&gt;

or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Local ID for selected entity already exists.&lt;/error&gt;
&lt;/hash&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found - can not create local alias.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/intersoft-sk">intersoft-sk</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>