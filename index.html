<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Entity Manager Documentation by intersoft-sk</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="without-description">
        <h1>Entity Manager Documentation</h1>
        <p></p>
        <p class="view"><a href="https://github.com/intersoft-sk/entity-manager">View the Project on GitHub <small>intersoft-sk/entity-manager</small></a></p>
        <ul>
          <li><a href="https://github.com/intersoft-sk/entity-manager/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/intersoft-sk/entity-manager/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/intersoft-sk/entity-manager">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>In order to provide lookup, discovery and resolution services for physical and virtual entities ebbits offers the entity management functionalities via Entity Manager component. Beside the core functionality – i.e. to provide world-wide unique identifiers, Entity Manager also supports:</p>

<ul>
<li>mapping to local identifiers that are used by different stakeholders, but identifies the same entity and </li>
<li>management of part-of relation between two entities – i.e. an entity could have one or more parts (slave entities) and at the same time it could be part of one or more entities (master). In order to be able traverse such relationships, the resolution part of the Entity Management service maintains an oriented acyclic graph structure.</li>
</ul>

<p>The Entity Manager is implemented as a RESTful web service with the Ruby on Rails  framework and is deployed at Heroku  cloud application platform. At the <a href="http://entity-manager.herokuapp.com/entities">http://entity-manager.herokuapp.com/entities</a> URL, there is also available a simple administration console. Authorisation system is simplified in a way that authenticated users via third-party authentication (Google, Linked-In) or just registered developers are able to access the system functionality. Not authenticated users can just view current contents of the Entity Manager. </p>

<h3>
<a id="note" class="anchor" href="#note" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note:</h3>

<p>In the following examples, the destination address depends on the deployment:</p>

<p>If deployed at Heroku, instead of</p>

<ul>
<li>
<a href="http://localhost:3000/">http://localhost:3000/</a> </li>
</ul>

<p>should be used </p>

<ul>
<li><a href="http://entity-manager.herokuapp.com/">http://entity-manager.herokuapp.com/</a></li>
</ul>

<h2>
<a id="entity-manager-supports-the-following-api" class="anchor" href="#entity-manager-supports-the-following-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Entity Manager supports the following API:</h2>

<h2>
<a id="createidentity-localid-credentials-entity" class="anchor" href="#createidentity-localid-credentials-entity" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>createIdentity( LocalID, Credentials): Entity</code>
</h2>

<p>Based on local identifier, credentials identifying an owner (i.e. stakeholder in an IoT application) and entity’s description, the call creates new entity with world-wide unique identifier that is randomly generated.</p>

<h3>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>localID</em>  The local identifier of an entity.</p>

<p><em>description</em> Basic textual description of registered entity.</p>

<p><em>credentials</em> Data necessary for identification and authorisation of authority that is registering a new entity.</p>

<h3>
<a id="returns" class="anchor" href="#returns" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the successfully registered entity data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result" class="anchor" href="#example-of-the-request-and-result" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "localid=sensor1ab&amp;owner=3&amp;description=Some nice description." http://localhost:3000/entities.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entity&gt;
  &lt;id type="integer"&gt;15&lt;/id&gt;
  &lt;uuid&gt;e90dd88b-67bc-44a9-9eb9-22bbbef16d0d&lt;/uuid&gt;
  &lt;description&gt;Some nice description.&lt;/description&gt;
  &lt;created-at type="datetime"&gt;2013-03-23T07:49:38Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-03-23T07:49:38Z&lt;/updated-at&gt;
  &lt;schema&gt;urn:entityID:&lt;/schema&gt;
&lt;/entity&gt;
</code></pre>

<h2>
<a id="addaliastoidentityebbitsid-localid-name-description-credentialsboolean" class="anchor" href="#addaliastoidentityebbitsid-localid-name-description-credentialsboolean" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>addAliasToIdentity(EbbitsID, LocalID, name, description, Credentials):Boolean</code>
</h2>

<p>Adds alias to an existing entity - restful operation using the entity ID given in DB.</p>

<h3>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>EbbitsID</em>  The ID given in DB of the entity, to which an alias is being added.</p>

<p><em>LocalID</em> The local identifier of an entity.</p>

<p><em>name</em> The local name of an entity.</p>

<p><em>description</em> Basic textual description of registered alias.</p>

<p><em>credentials</em> Data necessary for identification and authorization of authority that is registering a new alias for an entity.</p>

<h3>
<a id="returns-1" class="anchor" href="#returns-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the successfully registered alias data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-1" class="anchor" href="#example-of-the-request-and-result-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "owner=3&amp;localid=1abc&amp;name=temperature1abc&amp;description=temperature sensor in the kitchen" http://localhost:3000/entities/12/local_identities.xml


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;local-identity&gt;
  &lt;id type="integer"&gt;80&lt;/id&gt;
  &lt;localid&gt;1abc&lt;/localid&gt;
  &lt;name&gt;temperature1abc&lt;/name&gt;
  &lt;owner-id type="integer"&gt;3&lt;/owner-id&gt;
  &lt;description&gt;temperature sensor in the kitchen&lt;/description&gt;
  &lt;entity-id type="integer"&gt;12&lt;/entity-id&gt;
  &lt;created-at type="datetime"&gt;2013-03-23T14:29:49Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-03-23T14:29:49Z&lt;/updated-at&gt;
&lt;/local-identity&gt;

or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Local ID for selected entity already exists.&lt;/error&gt;
&lt;/hash&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found - can not create local alias.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="addaliastoidentity-entity_uuid-localid-name-description-credentials-localid" class="anchor" href="#addaliastoidentity-entity_uuid-localid-name-description-credentials-localid" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>addAliasToIdentity( Entity_UUID, LocalID, name, description, Credentials): LocalID</code>
</h2>

<p>Adds alias to an existing entity - restful operation using the uuid instead of id in the DB.</p>

<h3>
<a id="parameters-2" class="anchor" href="#parameters-2" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em>  The unique identifier of the entity, to which an alias is being added.</p>

<p><em>localID</em> The local identifier of an entity.</p>

<p><em>name</em> The local name of an entity.</p>

<p><em>description</em> Basic textual description of registered alias.</p>

<p><em>credentials</em> Data necessary for identification and authorization of authority that is registering a new alias for an entity.</p>

<h3>
<a id="returns-2" class="anchor" href="#returns-2" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the successfully registered alias data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-2" class="anchor" href="#example-of-the-request-and-result-2" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=bc573b60-1f52-4003-92b4-8863470b6119&amp;localid=1abcd&amp;owner=3&amp;name=temperature1abcd&amp;description=2nd temperature sesor in the kitchen" http://localhost:3000/addAliasToIdentity.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;local-identity&gt;
  &lt;id type="integer"&gt;85&lt;/id&gt;
  &lt;localid&gt;1abcd&lt;/localid&gt;
  &lt;name&gt;temperature1abcd&lt;/name&gt;
  &lt;owner-id type="integer"&gt;3&lt;/owner-id&gt;
  &lt;description&gt;2nd temperature sesor in the kitchen&lt;/description&gt;
  &lt;entity-id type="integer"&gt;11&lt;/entity-id&gt;
  &lt;created-at type="datetime"&gt;2013-04-04T14:03:52Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-04-04T14:03:52Z&lt;/updated-at&gt;
&lt;/local-identity&gt;

or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Local ID for selected entity already exists.&lt;/error&gt;
&lt;/hash&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Owner not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getidentitybyalias-localid-credentials-entity" class="anchor" href="#getidentitybyalias-localid-credentials-entity" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getIdentityByAlias( LocalID, Credentials): Entity</code>
</h2>

<p>Get entity by given alias and owner.</p>

<h3>
<a id="parameters-3" class="anchor" href="#parameters-3" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>localID</em>  The local identifier of an entity.</p>

<p><em>credentials</em> Data necessary for identification and authorisation of authority that is registering a new entity.</p>

<h3>
<a id="returns-3" class="anchor" href="#returns-3" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of found entity data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-3" class="anchor" href="#example-of-the-request-and-result-3" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "search_terms=1abc&amp;owner=3" http://localhost:3000/get_by_alias.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entity&gt;
  &lt;id type="integer"&gt;11&lt;/id&gt;
  &lt;uuid&gt;bc573b60-1f52-4003-92b4-8863470b6119&lt;/uuid&gt;
  &lt;description&gt;Sensor nr. 1&lt;/description&gt;
  &lt;created-at type="datetime"&gt;2013-02-27T14:57:27Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-02-27T14:57:27Z&lt;/updated-at&gt;
  &lt;schema&gt;urn:entityID:&lt;/schema&gt;
&lt;/entity&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;

or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Owner not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getidentity-entity_uuid-credentials-entity" class="anchor" href="#getidentity-entity_uuid-credentials-entity" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getIdentity( Entity_UUID, Credentials): Entity</code>
</h2>

<p>Get entity by given uuid and owner.</p>

<h3>
<a id="parameters-4" class="anchor" href="#parameters-4" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em>  The unique identifier of the entity we are looking for.</p>

<p><em>credentials</em> Data necessary for identification and authorization of authority that is looking for an entity.</p>

<h3>
<a id="returns-4" class="anchor" href="#returns-4" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of found entity data element or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-4" class="anchor" href="#example-of-the-request-and-result-4" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=bc573b60-1f52-4003-92b4-8863470b6119&amp;owner=3" http://localhost:3000/getIdentity.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entity&gt;
  &lt;id type="integer"&gt;11&lt;/id&gt;
  &lt;uuid&gt;bc573b60-1f52-4003-92b4-8863470b6119&lt;/uuid&gt;
  &lt;description&gt;Sensor nr. 1&lt;/description&gt;
  &lt;created-at type="datetime"&gt;2013-02-27T14:57:27Z&lt;/created-at&gt;
  &lt;updated-at type="datetime"&gt;2013-02-27T14:57:27Z&lt;/updated-at&gt;
  &lt;schema&gt;urn:entityID:&lt;/schema&gt;
&lt;/entity&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="addrelation-uuid_master-uuid_slave-credentials-array-of-entities-slaves" class="anchor" href="#addrelation-uuid_master-uuid_slave-credentials-array-of-entities-slaves" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>addRelation( UUID_master, UUID_slave, Credentials): Array of Entities (slaves)</code>
</h2>

<p>Add relationship "slave" (uniquely identified by UUID_slave) is part of "master" (uniquely identified by UUID_master) and returns array of all slaves for given master.</p>

<h3>
<a id="parameters-5" class="anchor" href="#parameters-5" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>UUID_master</em>  The unique identifier of the entity, to which an slave is being added.</p>

<p><em>UUID_slave</em> The unique identifier of the entity, which will be in relation is-part-of with entity identified by UUID_master.</p>

<p><em>Credentials</em> Data necessary for identification and authorization of authority that is registering a new relation.</p>

<h3>
<a id="returns-5" class="anchor" href="#returns-5" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all slaves for given master entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-5" class="anchor" href="#example-of-the-request-and-result-5" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "master=e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&amp;slave=dcfb88fd-d3bf-492a-8c05-998659b47890&amp;owner=3" http://localhost:3000/addRelation.xml
_and after that_
curl -d "master=e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&amp;slave=2663254d-bc92-4ba7-8b8b-e946b6d59a59&amp;owner=3" http://localhost:3000/addRelation.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3595&lt;/id&gt;
    &lt;uuid&gt;dcfb88fd-d3bf-492a-8c05-998659b47890&lt;/uuid&gt;
    &lt;description&gt;piece 1 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:24:44Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:07:34Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3596&lt;/id&gt;
    &lt;uuid&gt;2663254d-bc92-4ba7-8b8b-e946b6d59a59&lt;/uuid&gt;
    &lt;description&gt;piece 2 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:25:03Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:58:00Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getmasters-entity_uuid-credentials-array-of-entities" class="anchor" href="#getmasters-entity_uuid-credentials-array-of-entities" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getMasters( Entity_UUID, Credentials): Array of Entities</code>
</h2>

<p>Getting array of entities, which are in the master relation to the by UUID given entity and the distance between entities in the graph defined by the relation is just one (i.e. parent entities).</p>

<h3>
<a id="parameters-6" class="anchor" href="#parameters-6" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em> The unique identifier of the entity, which is part-of entities we are looking for (i.e. its masters).</p>

<p><em>Credentials</em> Data necessary for identification and authorization of authority that is searching for masters of given entity.</p>

<h3>
<a id="returns-6" class="anchor" href="#returns-6" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all masters for given slave entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-6" class="anchor" href="#example-of-the-request-and-result-6" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=dcfb88fd-d3bf-492a-8c05-998659b47890&amp;owner=3" http://localhost:3000/getMasters.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;2787&lt;/id&gt;
    &lt;uuid&gt;e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&lt;/uuid&gt;
    &lt;description&gt;Date(1003528800000):LIM:75:false&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T09:37:16Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T09:37:16Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getslaves-entity_uuid-credentials-array-of-entities" class="anchor" href="#getslaves-entity_uuid-credentials-array-of-entities" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getSlaves( Entity_UUID, Credentials): Array of Entities</code>
</h2>

<p>Getting array of entities, which are in the slave relation to the by UUID given entity and the distance between entities in the graph defined by the relation is just one (i.e. child entities).</p>

<h3>
<a id="parameters-7" class="anchor" href="#parameters-7" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em> The unique identifier of the entity, which is master of all entities we are looking for (i.e. its slaves).</p>

<p><em>Credentials</em> Data necessary for identification and authorisation of authority that is searching for slaves of given entity.</p>

<h3>
<a id="returns-7" class="anchor" href="#returns-7" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all slaves for given master entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-7" class="anchor" href="#example-of-the-request-and-result-7" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&amp;owner=3" http://localhost:3000/getSlaves.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3595&lt;/id&gt;
    &lt;uuid&gt;dcfb88fd-d3bf-492a-8c05-998659b47890&lt;/uuid&gt;
    &lt;description&gt;piece 1 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:24:44Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:07:34Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3596&lt;/id&gt;
    &lt;uuid&gt;2663254d-bc92-4ba7-8b8b-e946b6d59a59&lt;/uuid&gt;
    &lt;description&gt;piece 2 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:25:03Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:58:00Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="removerelation-uuid_master-uuid_slave-credentials-array-of-entities-slaves" class="anchor" href="#removerelation-uuid_master-uuid_slave-credentials-array-of-entities-slaves" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>removeRelation( UUID_master, UUID_slave, Credentials): Array of Entities (slaves)</code>
</h2>

<p>Remove relationship "slave" is part of "master" and returns array of all slaves for given master.</p>

<h3>
<a id="parameters-8" class="anchor" href="#parameters-8" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>UUID_master</em> The unique identifier of the entity, which is master part of the relation to be removed.</p>

<p><em>UUID_slave</em> The unique identifier of the entity, which is slave part of the relation to be removed.</p>

<p><em>Credentials</em> Data necessary for identification and authorisation of authority that is removing the existing relation.</p>

<h3>
<a id="returns-8" class="anchor" href="#returns-8" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all slaves for given master entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-8" class="anchor" href="#example-of-the-request-and-result-8" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>FIRST addRelation:
curl -d "master=e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&amp;slave=2663254d-bc92-4ba7-8b8b-e946b6d59a59&amp;owner=3" http://localhost:3000/addRelation.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3595&lt;/id&gt;
    &lt;uuid&gt;dcfb88fd-d3bf-492a-8c05-998659b47890&lt;/uuid&gt;
    &lt;description&gt;piece 1 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:24:44Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:07:34Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3596&lt;/id&gt;
    &lt;uuid&gt;2663254d-bc92-4ba7-8b8b-e946b6d59a59&lt;/uuid&gt;
    &lt;description&gt;piece 2 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:25:03Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:58:00Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

THEN:
curl -d "master=e15f9dbc-1f7d-4b2a-85c0-6e613a2a6432&amp;slave=2663254d-bc92-4ba7-8b8b-e946b6d59a59&amp;owner=3" http://localhost:3000/removeRelation.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;3595&lt;/id&gt;
    &lt;uuid&gt;dcfb88fd-d3bf-492a-8c05-998659b47890&lt;/uuid&gt;
    &lt;description&gt;piece 1 for addRelation testing&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2013-04-13T10:24:44Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2013-04-13T11:07:34Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getallmastersuuid-credentials-range-array-of-entities" class="anchor" href="#getallmastersuuid-credentials-range-array-of-entities" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getAllMasters(UUID, Credentials, range): Array of Entities</code>
</h2>

<p>Getting array of entities, which are in the master position to the given entity by UUID - either direct (range == 1) or indirect (range &gt; 1).</p>

<h3>
<a id="parameters-9" class="anchor" href="#parameters-9" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>Entity_UUID</em> The unique identifier of the entity, which is part-of entities we are looking for (i.e. its masters).</p>

<p><em>Credentials</em> Data necessary for identification and authorization of authority that is searching for masters of given entity.</p>

<p><em>range</em> If the range is -1, the method will find all the predecessors of the entity regardless, of the graph depth. If range is &gt; 0, it defines how many predecessor levels will be searched for.</p>

<h3>
<a id="returns-9" class="anchor" href="#returns-9" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all masters for given slave entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-9" class="anchor" href="#example-of-the-request-and-result-9" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=a195d2e5-8939-4736-b119-264181baa62f&amp;range=-1&amp;owner=3" http://localhost:3000/getAllMasters.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;7&lt;/id&gt;
    &lt;uuid&gt;62b6250d-3046-4152-9530-734d25480d26&lt;/uuid&gt;
    &lt;description&gt;description for entity 62b6250d-3046-4152-9530-734d25480d26&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;10&lt;/id&gt;
    &lt;uuid&gt;56ad9235-a166-4bd2-b7b7-af7a3f5d86d5&lt;/uuid&gt;
    &lt;description&gt;description for entity 56ad9235-a166-4bd2-b7b7-af7a3f5d86d5&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;12&lt;/id&gt;
    &lt;uuid&gt;c04d1fec-2e1c-40fe-837a-e83c89dafdcb&lt;/uuid&gt;
    &lt;description&gt;entita pre pokus2&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:34:27Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:34:27Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;11&lt;/id&gt;
    &lt;uuid&gt;97e6572a-9648-4e3f-98ac-ddab41b93a72&lt;/uuid&gt;
    &lt;description&gt;entita pre pokus1&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:57Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:57Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;9&lt;/id&gt;
    &lt;uuid&gt;0b0b2dee-4440-46af-9b22-0419be75a932&lt;/uuid&gt;
    &lt;description&gt;description for entity 0b0b2dee-4440-46af-9b22-0419be75a932&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;


or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;nil-classes type="array"/&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>

<h2>
<a id="getallslavesuuid-credentials-range-array-of-entities" class="anchor" href="#getallslavesuuid-credentials-range-array-of-entities" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>getAllSlaves(UUID, Credentials, range): Array of Entities</code>
</h2>

<p>Getting array of entities, which are in the child position to the given entity by UUID - either direct (range == 1) or indirect (range &gt; 1).</p>

<h3>
<a id="parameters-10" class="anchor" href="#parameters-10" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Parameters</code>
</h3>

<p><em>UUID</em> The unique identifier of the entity, which is master of all entities we are looking for (i.e. its slaves).</p>

<p><em>Credentials</em> Data necessary for identification and authorization of authority that is searching for slaves of given entity.</p>

<p><em>range</em> If the range is -1, the method will find all the children of the entity regardless of the graph depth. If range is &gt; 0, defines how many descendant levels will be searched for.</p>

<h3>
<a id="returns-10" class="anchor" href="#returns-10" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Returns</code>
</h3>

<p>The function returns XML serialization of the array of all slaves for given master entity in case of success or error message in case of failure.</p>

<h3>
<a id="example-of-the-request-and-result-10" class="anchor" href="#example-of-the-request-and-result-10" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>Example of the request and result</code>
</h3>

<pre><code>curl -d "uuid=c04d1fec-2e1c-40fe-837a-e83c89dafdcb&amp;range=-1&amp;owner=3" http://localhost:3000/getAllSlaves.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;entities type="array"&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;7&lt;/id&gt;
    &lt;uuid&gt;62b6250d-3046-4152-9530-734d25480d26&lt;/uuid&gt;
    &lt;description&gt;description for entity 62b6250d-3046-4152-9530-734d25480d26&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;10&lt;/id&gt;
    &lt;uuid&gt;56ad9235-a166-4bd2-b7b7-af7a3f5d86d5&lt;/uuid&gt;
    &lt;description&gt;description for entity 56ad9235-a166-4bd2-b7b7-af7a3f5d86d5&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;12&lt;/id&gt;
    &lt;uuid&gt;c04d1fec-2e1c-40fe-837a-e83c89dafdcb&lt;/uuid&gt;
    &lt;description&gt;entita pre pokus2&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:34:27Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:34:27Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;11&lt;/id&gt;
    &lt;uuid&gt;97e6572a-9648-4e3f-98ac-ddab41b93a72&lt;/uuid&gt;
    &lt;description&gt;entita pre pokus1&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:57Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:57Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
  &lt;entity&gt;
    &lt;id type="integer"&gt;9&lt;/id&gt;
    &lt;uuid&gt;0b0b2dee-4440-46af-9b22-0419be75a932&lt;/uuid&gt;
    &lt;description&gt;description for entity 0b0b2dee-4440-46af-9b22-0419be75a932&lt;/description&gt;
    &lt;created-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/created-at&gt;
    &lt;updated-at type="datetime"&gt;2014-12-29T12:32:06Z&lt;/updated-at&gt;
    &lt;schema&gt;urn:entityID:&lt;/schema&gt;
  &lt;/entity&gt;
&lt;/entities&gt;

or 

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;nil-classes type="array"/&gt;

or

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;hash&gt;
  &lt;error&gt;Entity not found.&lt;/error&gt;
&lt;/hash&gt;
</code></pre>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/intersoft-sk">intersoft-sk</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>